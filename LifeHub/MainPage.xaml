<Page
    x:Class="LifeHub.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid Padding="40">
        <ScrollViewer>
            <StackPanel Spacing="24" MaxWidth="1200">
                
                <!-- Header -->
                <StackPanel Spacing="8">
                    <TextBlock x:Name="GreetingText" 
                             Text="Good Morning"
                             FontSize="32"
                             FontWeight="Bold"/>
                    <TextBlock Text="Here's your dashboard for today"
                             FontSize="16"
                             Opacity="0.7"/>
                </StackPanel>

                <!-- AI Insight Card -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="8"
                       Padding="24"
                       BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                       BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock Text="âœ¨ Daily Insight" 
                                 FontSize="18"
                                 FontWeight="SemiBold"/>
                        <TextBlock x:Name="InsightText"
                                 Text="Loading your personalized insights..."
                                 TextWrapping="Wrap"
                                 Opacity="0.8"/>
                    </StackPanel>
                </Border>

                <Grid ColumnSpacing="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Column -->
                    <StackPanel Grid.Column="0" Spacing="20">
                        
                        <!-- Calendar Widget -->
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                               CornerRadius="8"
                               Padding="24"
                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                               BorderThickness="1">
                            <StackPanel Spacing="16">
                                <TextBlock Text="ðŸ“… Today's Events" 
                                         FontSize="18"
                                         FontWeight="SemiBold"/>
                                
                                <ItemsControl x:Name="EventsList">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Padding="0,12" BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}" BorderThickness="0,0,0,1">
                                                <StackPanel>
                                                    <TextBlock Text="{Binding Title}" 
                                                             FontWeight="SemiBold"
                                                             FontSize="15"/>
                                                    <TextBlock Opacity="0.7" FontSize="13">
                                                        <Run Text="ðŸ•’ "/>
                                                        <Run Text="{Binding StartTime}"/>
                                                    </TextBlock>
                                                    <TextBlock Text="{Binding Location}" 
                                                             Opacity="0.6"
                                                             FontSize="13"
                                                             Visibility="{Binding Location, Converter={StaticResource EmptyToCollapsedConverter}}"/>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </Border>

                        <!-- Tasks Widget -->
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                               CornerRadius="8"
                               Padding="24"
                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                               BorderThickness="1">
                            <StackPanel Spacing="16">
                                <TextBlock Text="âœ… Today's Tasks" 
                                         FontSize="18"
                                         FontWeight="SemiBold"/>
                                
                                <ItemsControl x:Name="TasksList">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Padding="0,8">
                                                <StackPanel Orientation="Horizontal" Spacing="12">
                                                    <CheckBox IsChecked="{Binding IsCompleted}" VerticalAlignment="Center"/>
                                                    <StackPanel>
                                                        <TextBlock Text="{Binding Title}" FontSize="15"/>
                                                        <TextBlock Text="{Binding Priority}" Opacity="0.6" FontSize="12"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <!-- Right Column -->
                    <StackPanel Grid.Column="1" Spacing="20">
                        
                        <!-- Weather Widget -->
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                               CornerRadius="8"
                               Padding="24"
                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                               BorderThickness="1">
                            <StackPanel Spacing="12">
                                <TextBlock Text="ðŸŒ¤ï¸ Weather" 
                                         FontSize="18"
                                         FontWeight="SemiBold"/>
                                <TextBlock x:Name="Temperature"
                                         Text="72Â°F"
                                         FontSize="36"
                                         FontWeight="Bold"/>
                                <TextBlock x:Name="Condition"
                                         Text="Partly Cloudy"
                                         Opacity="0.7"/>
                                <TextBlock x:Name="LocationText"
                                         Text="San Francisco"
                                         FontSize="12"
                                         Opacity="0.5"/>
                            </StackPanel>
                        </Border>

                        <!-- Email Widget -->
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                               CornerRadius="8"
                               Padding="24"
                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                               BorderThickness="1">
                            <StackPanel Spacing="12">
                                <TextBlock Text="ðŸ“§ Email" 
                                         FontSize="18"
                                         FontWeight="SemiBold"/>
                                <TextBlock x:Name="EmailCount"
                                         Text="12 unread"
                                         FontSize="20"
                                         FontWeight="SemiBold"/>
                                <TextBlock x:Name="EmailSummaryText"
                                         Text="Loading..."
                                         TextWrapping="Wrap"
                                         FontSize="13"
                                         Opacity="0.7"/>
                            </StackPanel>
                        </Border>

                        <!-- Focus Widget -->
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                               CornerRadius="8"
                               Padding="24"
                               BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                               BorderThickness="1">
                            <StackPanel Spacing="12">
                                <TextBlock Text="â±ï¸ Focus Time" 
                                         FontSize="18"
                                         FontWeight="SemiBold"/>
                                <TextBlock x:Name="FocusMinutes"
                                         Text="0 minutes today"
                                         FontSize="24"
                                         FontWeight="SemiBold"/>
                                <Button Content="Start Session"
                                       HorizontalAlignment="Stretch"/>
                            </StackPanel>
                        </Border>

                    </StackPanel>
                </Grid>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
